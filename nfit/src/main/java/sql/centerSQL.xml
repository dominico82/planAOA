<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="nfit.center">
  <select id="centerListSQL" resultType="nfit.center.model.CenterDTO">
  select * from company_list order by co_idx asc
  </select>
  <select id="centerOneSQL" parameterType="int" resultType="nfit.center.model.CenterDTO">
  select * from company_list where co_idx = #{co_idx}
  </select>
  <select id="usetimeSQL" parameterType="int" resultType="nfit.center.model.UsetimeDTO">
  select * from usetime_table where co_idx = #{co_idx}
  </select>
  <select id="contentListSQL" parameterType="int" resultType="nfit.center.model.ContentDTO">
  select * from content_list where co_idx = #{co_idx}
  </select>
  <select id="contentAllListSQL" resultType="nfit.center.model.ContentDTO">
  select * from content_list order by content_idx asc
  </select>
  <update id="centerLatLngSQL" parameterType="nfit.center.model.CenterDTO">
  update company_list set co_lat=#{co_lat}, co_lng=#{co_lng} where co_idx = #{co_idx}
  </update>
  <select id="centerSearchSQL" parameterType="String" resultType="nfit.center.model.CenterDTO">
SELECT DISTINCT CO.CO_IDX, CO.CO_NAME, CO.CO_ADDRESS, CO.CO_CLASS, CO.CO_PHONE, CO.CO_REGUL, CO.CO_EXTRA, CO.CO_VIEW, CO.CO_USECOUNT, CO.CO_LAT, CO.CO_LNG, CO.CO_AVAIL 
FROM COMPANY_LIST CO 
INNER JOIN CONTENT_LIST CT ON (CO.CO_IDX=CT.CO_IDX)
WHERE CO.CO_NAME LIKE '%'||#{keyword}||'%'
OR CO.CO_CLASS LIKE '%'||#{keyword}||'%'
OR CO.CO_ADDRESS LIKE '%'||#{keyword}||'%'
OR CT.CONTENT1 LIKE '%'||#{keyword}||'%'
OR CT.CONTENT2 LIKE '%'||#{keyword}||'%'
OR CT.CONTENT3 LIKE '%'||#{keyword}||'%'
OR CT.CONTENT4 LIKE '%'||#{keyword}||'%'
OR CT.CONTENT5 LIKE '%'||#{keyword}||'%'
OR CT.CONTENT6 LIKE '%'||#{keyword}||'%'
ORDER BY CO.CO_IDX
  </select>
  </mapper>